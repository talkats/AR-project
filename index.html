<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>MindAR – no black overlay</title>

  <!-- A‑Frame -->
  <script src="https://cdn.jsdelivr.net/npm/aframe@1.4.2/dist/aframe.min.js"></script>
  <!-- MindAR (A‑Frame bundle) -->
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.4/dist/mindar-image-aframe.prod.js"></script>

  <style>
    html,body{margin:0;height:100%;overflow:hidden;background:#000}

    /* וידאו / קנבס תופסים את כל המסך */
    a-scene, a-scene video, a-scene canvas{
      position:absolute;top:0;left:0;width:100vw;height:100vh;object-fit:cover;
    }
    a-scene video{z-index:0}
    a-scene canvas{z-index:1;background:transparent}

    /* מסתיר לחלוטין את overlay והסורק של MindAR */
    .mindar-ui-overlay,
    .mindar-ui-scanning,
    .mindar-ui-loading{
      display:none !important;
    }
  </style>
</head>
<body>

  <a-scene
      mindar-image="imageTargetSrc: ./targets.mind; uiLoading: no; uiScanning: no"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
      embedded>

    <a-camera position="0 0 0" look-controls="enabled:false"></a-camera>

    <!-- יעד #0 -->
    <a-entity mindar-image-target="targetIndex: 0">
      <a-box color="red" depth="0.05" height="0.05" width="0.05"></a-box>
      <!-- <a-entity gltf-model="./model.glb" scale="0.2 0.2 0.2"></a-entity> -->
    </a-entity>

  </a-scene>

  <!-- ביטול overlay אם נטען בכל זאת (שומרי ראש) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const killOverlay = () => {
        document.querySelectorAll('.mindar-ui-overlay, .mindar-ui-loading, .mindar-ui-scanning')
          .forEach(el => el.style.display = 'none');
      };
      // נסה מיד ושוב אחרי 2 שניות (למקרה וה‑UI נוצר מאוחר)
      killOverlay();
      setTimeout(killOverlay, 2000);
    });
  </script>
</body>
</html>
